<!-- Set this_pages_navbar  -->












<!Doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="http://tigera-docs.appspot.com//images/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
    <link rel="stylesheet" href="http://tigera-docs.appspot.com//css/style.css"/>
    <link rel="stylesheet" href="http://tigera-docs.appspot.com//css/plugins/offcanvas.css"/>
    <link href="https://www.projectcalico.org/wp-content/themes/dante/css/font-awesome.min.css" rel="stylesheet">
    <script src="http://tigera-docs.appspot.com//js/jquery-2.2.0.min.js"></script>
    <script src="http://tigera-docs.appspot.com//js/bootstrap/bootstrap.min.js"></script>
    <script src="http://tigera-docs.appspot.com//js/script.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52125893-4', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://docs.projectcalico.org/http://tigera-docs.appspot.com/v1.6/getting-started/docker/tutorials/docker-swarm" />
<meta property="og:url" content="https://docs.projectcalico.org/http://tigera-docs.appspot.com/v1.6/getting-started/docker/tutorials/docker-swarm" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://docs.projectcalico.org/http://tigera-docs.appspot.com/v1.6/getting-started/docker/tutorials/docker-swarm","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <section>
      <nav id="toplevel-nav" class="navbar navbar-default navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <!-- Hamburger menu for mobile -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#tigera-navbar" aria-expanded="false" aria-controls="tigera-navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <!-- Left brand image -->
            <a class="navbar-brand" href="https://projectcalico.org/">
              <img alt="Brand" src="http://tigera-docs.appspot.com//images/brand.png">
            </a>
          </div>
          <div id="tigera-navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://projectcalico.org">Home</a></li>
              <li class="active"><a href="https://projectcalico.org/resources"><span>Resources</span></a>
                <ul>
                    <li><a href="http://tigera-docs.appspot.com//latest/getting-started/"><i class="fa fa-tachometer" aria-hidden="true"></i> &nbsp; Getting Started</a></li>
                    <li><a href="http://tigera-docs.appspot.com/"><i class="fa fa-book" aria-hidden="true"></i> &nbsp; Documentation</a></li>
                    <!--<li><a href="https://www.projectcalico.org/tutorials"><i class="fa fa-file-code-o" aria-hidden="true"></i> &nbsp; Tutorials &amp; Examples</a></li>
                    <li><a href=""><i class="fa fa-paper-plane-o" aria-hidden="true"></i> &nbsp; Online Workshops</a></li>-->
                    <li><a href="https://www.projectcalico.org/videos"><i class="fa fa-video-camera" aria-hidden="true"></i> &nbsp; Videos &amp; Webinars</a></li>
                    <li><a href="https://www.projectcalico.org/training"><i class="fa fa-graduation-cap" aria-hidden="true"></i> &nbsp; Training</a></li>
                    <li><a href="http://tigera-docs.appspot.com//latest/releases/"><i class="fa fa-clock-o" aria-hidden="true"></i> &nbsp; Releases</a></li>
                    <!-- <li><a href="/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li> -->
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/community">Community</a>
                <ul>
                    <li><a href="https://slack.projectcalico.org/"><i class="fa fa-slack" aria-hidden="true"></i> &nbsp; Slack</a></li>
                    <!--<li><a href="https://stackoverflow.com/questions/tagged/project-calico" target="_blank"><i class="fa fa-stack-overflow" aria-hidden="true"></i> &nbsp; StackOverflow</a></li>-->
                    <li><a href="https://www.projectcalico.org/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li>
                    <li><a href="https://www.projectcalico.org/community#events"><i class="fa fa-calendar" aria-hidden="true"></i> &nbsp; Upcoming Events</a></li>
                    <li><a href="https://www.projectcalico.org/newsletters"><i class="fa fa-envelope-o" aria-hidden="true"></i> &nbsp; Newsletter</a></li>
                    <li><a href="https://github.com/projectcalico" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> &nbsp; GitHub</a></li> 
                    <li><a href="https://www.projectcalico.org/jobs"><i class="fa fa-briefcase" aria-hidden="true"></i> &nbsp; Jobs</a></li>
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/mvp" style="font-weight: bold;">MVP</a></li>
              <li><a href="https://www.projectcalico.org/support">Support</a></li>
              <li class="hidden-xs"><a href="https://www.projectcalico.org/support">
                <img class="desktopImage" width="30" align="absmiddle" src="https://www.projectcalico.org/images/tigera_trans_sm.png" alt="Tigera"></a>
              </li>
            </ul>
            <form class="navbar-form visible-xs">
              <ul class="nav navbar-nav navbar-right">
                
                  <li >
                    <a href="http://tigera-docs.appspot.com//v1.6/introduction">Introduction</a>
                  </li>
                
                  <li  class="active">
                    <a href="http://tigera-docs.appspot.com//v1.6/getting-started">Getting Started</a>
                  </li>
                
                  <li >
                    <a href="http://tigera-docs.appspot.com//v1.6/usage">Usage</a>
                  </li>
                
                  <li >
                    <a href="http://tigera-docs.appspot.com//v1.6/reference">Reference</a>
                  </li>
                
                  <li >
                    <a href="http://tigera-docs.appspot.com//v1.6/releases">Releases</a>
                  </li>
                
              </ul>
            </form>
            <ul class="visible-xs nav navbar-nav navbar-right">
             <li class="dropdown">
               <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (v1.6)<span class="caret"></span></a>
               <ul class="dropdown-menu">
                 <li><a href="http://tigera-docs.appspot.com//v2.6/introduction">v2.6 (latest)</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.5/introduction">v2.5</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.4/introduction">v2.4</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.3/introduction">v2.3</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.2/introduction">v2.2</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.1/introduction">v2.1</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v2.0/introduction">v2.0</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v1.6/introduction">v1.6</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v1.5/introduction">v1.5</a></li>
                 <li><a href="http://tigera-docs.appspot.com//v3.0/introduction">v3.0 (beta)</a></li>
                 <li><a href="http://tigera-docs.appspot.com//master/introduction">nightly</a></li>
                 <li role="separator" class="divider"></li>
               </ul>
             </li>
           </ul>
          </div>
        </div>
        <div id="navbar" class="navbar-inverse navbar-collapse collapse">
          <div class="container">
            <ul class="nav navbar-nav">
              
                <li>
                  <a href="http://tigera-docs.appspot.com//v1.6/introduction"><span>Introduction</span></a>
                </li>
              
                <li class="active">
                  <a href="http://tigera-docs.appspot.com//v1.6/getting-started"><span>Getting Started</span></a>
                </li>
              
                <li>
                  <a href="http://tigera-docs.appspot.com//v1.6/usage"><span>Usage</span></a>
                </li>
              
                <li>
                  <a href="http://tigera-docs.appspot.com//v1.6/reference"><span>Reference</span></a>
                </li>
              
                <li>
                  <a href="http://tigera-docs.appspot.com//v1.6/releases"><span>Releases</span></a>
                </li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (v1.6)<span class="caret"></span></a>
                <ul class="dropdown-menu">
                   <li><a href="http://tigera-docs.appspot.com//v3.0/introduction">v3.0 (latest)</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.6/introduction">v2.6</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.5/introduction">v2.5</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.4/introduction">v2.4</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.3/introduction">v2.3</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.2/introduction">v2.2</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.1/introduction">v2.1</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v2.0/introduction">v2.0</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v1.6/introduction">v1.6</a></li>
                   <li><a href="http://tigera-docs.appspot.com//v1.5/introduction">v1.5</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="http://tigera-docs.appspot.com//master/introduction">nightly</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="row">
            <div class="col-sm-0"></div>
          </div>
        </div>
      </nav>
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-left">
          <p class="pull-left visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>
          <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
            <div class="row">
              <script>
                (function() {
                  var cx = '015028447179048192876:xjzskk7awwe';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
                })();
              </script>
              <gcse:search></gcse:search>
            </div>
            <div id="sidebar">
            	

  
    
    
    <div class="link">
      <a class="item" data-title="Getting Started with Calico" href="http://tigera-docs.appspot.com//v1.6/getting-started/">
        Getting Started with Calico
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes" aria-expanded="false" aria-controls="nav-kubernetes">
          Kubernetes
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes-installation" aria-expanded="false" aria-controls="nav-kubernetes-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Introduction" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/">
        Introduction
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Hosted" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/hosted/">
        Hosted
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="AWS" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/aws">
        AWS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="GCE" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/gce">
        GCE
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: CoreOS" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/vagrant/">
        Vagrant/VirtualBox: CoreOS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Kubeadm" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/installation/hosted/kubeadm/">
        Kubeadm
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes-tutorials" aria-expanded="false" aria-controls="nav-kubernetes-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Simple Policy Demo" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/tutorials/simple-policy">
        Simple Policy Demo
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Stars Policy Demo" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/tutorials/stars-policy/">
        Stars Policy Demo
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/kubernetes/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos" aria-expanded="false" aria-controls="nav-mesos">
          Mesos
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-installation" aria-expanded="false" aria-controls="nav-mesos-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Prerequisites" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/installation/prerequisites">
        Prerequisites
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Unified Containerizer (CNI)" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/installation/unified">
        Unified Containerizer (CNI)
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Containerizer (libnetwork)" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/installation/docker">
        Docker Containerizer (libnetwork)
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-installation-dcos" aria-expanded="false" aria-controls="nav-mesos-installation-dcos">
          DC/OS
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-installation-dcos">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/installation/dc-os/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Framework Install Walkthrough" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/installation/dc-os/framework">
        Framework Install Walkthrough
      </a>
    </div>
  


        </div>
      </div>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-tutorials" aria-expanded="false" aria-controls="nav-mesos-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Containerizer" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/tutorials/docker">
        Docker Containerizer
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Unified Containerizer" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/tutorials/unified">
        Unified Containerizer
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-demos" aria-expanded="false" aria-controls="nav-mesos-demos">
          Demos
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-demos">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant Quickstart - Docker Containerizer" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/vagrant/">
        Vagrant Quickstart - Docker Containerizer
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Stars Demo - Docker Containerizer" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/demos/docker/">
        Stars Demo - Docker Containerizer
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/mesos/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker" aria-expanded="false" aria-controls="nav-docker">
          Docker
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker-installation" aria-expanded="false" aria-controls="nav-docker-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Manual" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/manual">
        Manual
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="AWS" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/aws">
        AWS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="DigitalOcean" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/digital-ocean">
        DigitalOcean
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="GCE" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/gce">
        GCE
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: CoreOS" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/vagrant-coreos/">
        Vagrant/VirtualBox: CoreOS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: Ubuntu" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/vagrant-ubuntu/">
        Vagrant/VirtualBox: Ubuntu
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker-tutorials" aria-expanded="false" aria-controls="nav-docker-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Installation & Basic Use" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/tutorials/basic">
        Installation & Basic Use
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Configuring Policy" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/tutorials/advanced-policy">
        Configuring Policy
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Using IPv6" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/tutorials/ipv6">
        Using IPv6
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Swarm" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/tutorials/docker-swarm">
        Docker Swarm
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-openstack" aria-expanded="false" aria-controls="nav-openstack">
          OpenStack
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-openstack">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-openstack-installation" aria-expanded="false" aria-controls="nav-openstack-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-openstack-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Ubuntu" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/ubuntu">
        Ubuntu
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Red Hat Enterprise Linux 7" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/redhat">
        Red Hat Enterprise Linux 7
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Juju Charms" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/juju">
        Juju Charms
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Fuel" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/fuel">
        Fuel
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Chef" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/installation/chef">
        Chef
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/upgrade">
        Upgrade
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/verification">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="IP Addressing and Connectivity" href="http://tigera-docs.appspot.com//v1.6/getting-started/openstack/connectivity">
        IP Addressing and Connectivity
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-rkt" aria-expanded="false" aria-controls="nav-rkt">
          rkt
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-rkt">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/rkt/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-rkt-installation" aria-expanded="false" aria-controls="nav-rkt-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-rkt-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant" href="http://tigera-docs.appspot.com//v1.6/getting-started/rkt/vagrant/">
        Vagrant
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="http://tigera-docs.appspot.com//v1.6/getting-started/rkt/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/rkt/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/rkt/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-hostprotection" aria-expanded="false" aria-controls="nav-hostprotection">
          Host Protection
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-hostprotection">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="http://tigera-docs.appspot.com//v1.6/getting-started/bare-metal/bare-metal">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-hostprotection-installation" aria-expanded="false" aria-controls="nav-hostprotection-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-hostprotection-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Alternative Felix Install with PyInstaller Bundle" href="http://tigera-docs.appspot.com//v1.6/getting-started/bare-metal/pyi-bare-metal-install">
        Alternative Felix Install with PyInstaller Bundle
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="http://tigera-docs.appspot.com//v1.6/getting-started/bare-metal/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="http://tigera-docs.appspot.com//v1.6/getting-started/bare-metal/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="http://tigera-docs.appspot.com//v1.6/getting-started/bare-metal/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  


			</div>
          </div>
          <div class="col-xs-12 col-sm-8 col-md-9">
            <div id="content-main">
              <!-- TOP DOCUMENTATION PAGE NAVBAR -->
              <div style="text-align: left; padding: 18px 0 9px 0; min-width: 500px; overflow-x: hidden;">
              
              <a data-proofer-ignore href="https://github.com/projectcalico/calico/tree/master/v1.6/getting-started/docker/tutorials/docker-swarm.md" style="color: #999; text-decoration: none; float: right;" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit this page</a></div>
              <!-- END TOP DOCUMENTATION PAGE NAVBAR -->
              
  <div class="alert alert-warning" role="alert">
    <strong>Warning:</strong> You are viewing the v1.6 docs. <a href="http://tigera-docs.appspot.com//latest">Click here to view the docs for the latest release.</a>
  </div>


              <h1></h1>
              <p>The following tutorial provides instructions for configuring a Docker Swarm
cluster that is networked using Calico as a Docker network plugin. In this
tutorial, we will do the following:</p>

<ul>
  <li>Configure etcd and Calico on a cluster.</li>
  <li>Configure Docker Swarm on our VM cluster.</li>
</ul>

<h2 id="1-prerequisites">1. Prerequisites</h2>

<p>This tutorial assumes that your client and each node in your cluster
have <code class="highlighter-rouge">calicoctl</code>, etcd, and Docker 1.9 or greater installed in your <code class="highlighter-rouge">$PATH</code>.
See our <a href="http://tigera-docs.appspot.com//v1.6/getting-started/docker/installation/manual">Prerequisite tutorial</a> 
for instructions on getting this properly set up.</p>

<p>To make things simpler, let’s store some commonly used values as environment
variables on each <strong>Swarm node</strong>. We will use these variables throughout the
tutorial.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ export MANAGER_IP=&lt;Manager's IP Address&gt;
$ export NODE_IP=&lt;This Node's IP Address&gt;
</code></pre></div></div>

<h2 id="2-configure-etcd">2. Configure etcd</h2>

<p>Calico requires etcd, so let’s run it on our cluster. We need to start etcd
with the IP address of the manager server, so ensure that you have set the
<code class="highlighter-rouge">MANAGER_IP</code> environment, as seen above.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ etcd -advertise-client-urls http://$MANAGER_IP:2379 \
-listen-client-urls http://0.0.0.0:2379  &amp;
</code></pre></div></div>

<p>For this example, we’ll only configure a single node etcd cluster on our master
node. However, in a production environment, a minimum size of three nodes is
recommended and can run anywhere that is accessible to the cluster.</p>

<h2 id="3-configure-calico">3. Configure Calico</h2>

<p>Now that etcd is running, we can run Calico.</p>

<p>Now, start the Calico node service on each node in the cluster.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo ETCD_AUTHORITY=$MANAGER_IP:2379 calicoctl node --libnetwork --ip=$NODE_IP
</code></pre></div></div>

<h2 id="4-configure-swarm-cluster">4. Configure Swarm Cluster</h2>

<p>Now that Calico networking is configured on our cluster, let’s join our nodes
into a Docker Swarm cluster.</p>

<p>We’ll use the token based discovery backend, so let’s first create the token
which will identify our swarm. To do this, run the following on our client.
Note that docker commands may need to be run with root privileges depending on
your docker installation.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker run --rm swarm create
</code></pre></div></div>

<p>This command will print a unique cluster ID token which we must use to
configure our Swarm. We’ll reference this value in the tutorial as
<code class="highlighter-rouge">&lt;swarm_token&gt;</code>. Your token should look something like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>d435dc104abdd89af24ae2392c7338ce
</code></pre></div></div>

<h2 id="5-configure-swarm-nodes">5. Configure Swarm Nodes</h2>

<p>Before we configure our Swarm, we will need to start the Docker daemon and
point the cluster-store to our running instance of etcd.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo docker daemon -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock --cluster-store=etcd://$MANAGER_IP:2379 &amp;
</code></pre></div></div>

<p>Now that we’ve got a token and a properly running daemon, we can begin to
configure our Swarm. First, let’s join each of our Swarm nodes to the cluster.</p>

<p>Run the following commands on each node, replacing <code class="highlighter-rouge">&lt;swarm_token&gt;</code> with your
given token.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker run -d swarm join --addr=$NODE_IP:2375 token://&lt;swarm_token&gt;
</code></pre></div></div>

<h2 id="6-configure-swarm-manager">6. Configure Swarm Manager</h2>

<p>Let’s now configure the Swarm manager. Note that <code class="highlighter-rouge">&lt;swarm_port&gt;</code> in the
following command can be any unused TCP port on the manager server. This is
the port the client will use to communicate with the Swarm manager daemon.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker run -d -p &lt;swarm_port&gt;:2375 swarm manage token://&lt;swarm_token&gt;
</code></pre></div></div>

<h2 id="7-testing-docker-swarm">7. Testing Docker Swarm</h2>

<p>At this point we should have a fully configured Calico networked Swarm cluster.
However, there are no workloads running on our cluster. Let’s create a few
containers and check their connectivity. We can run the following commands on
the client against the Swarm Manager using the -H flag.</p>

<p>First, set the SWARM_PORT environment variable on the client to the value
chosen when configuring the Swarm manager.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ export SWARM_PORT=&lt;swarm_port&gt;
</code></pre></div></div>

<p>Then, we will configure three networks using the Calico network and Calico
IPAM drivers. Note that we need to first create a pool of allowable IP
addresses for the containers. Here we create a pool with CIDR 192.168.0.0/16.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ calicoctl pool add 192.168.0.0/16
</code></pre></div></div>

<p>To create the networks, run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker -H $MANAGER_IP:$SWARM_PORT network create --driver=calico --ipam-driver calico net1
$ docker -H $MANAGER_IP:$SWARM_PORT network create --driver=calico --ipam-driver calico net2
$ docker -H $MANAGER_IP:$SWARM_PORT network create --driver=calico --ipam-driver calico net3
</code></pre></div></div>

<p>Now, let’s create some containers on our cluster. Run the following commands on
your client.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker -H $MANAGER_IP:$SWARM_PORT run --net net1 --name workload-A -tid busybox
$ docker -H $MANAGER_IP:$SWARM_PORT run --net net2 --name workload-B -tid busybox
$ docker -H $MANAGER_IP:$SWARM_PORT run --net net1 --name workload-C -tid busybox
$ docker -H $MANAGER_IP:$SWARM_PORT run --net net3 --name workload-D -tid busybox
$ docker -H $MANAGER_IP:$SWARM_PORT run --net net1 --name workload-E -tid busybox
</code></pre></div></div>

<p>We can run <code class="highlighter-rouge">ps</code> against the Swarm manager to check that the containers have
been created.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker -H $MANAGER_IP:$SWARM_PORT ps
</code></pre></div></div>

<p>You should see an output which look similar to this. Notice that the containers
have been distributed across our two Swarm nodes.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS         NAMES
11a76a439cfa        busybox              "/bin/sh"           42 minutes ago      Up 42 minutes                     swarm-node2/workload-E
9196feb986ef        busybox              "/bin/sh"           43 minutes ago      Up 42 minutes                     swarm-node1/workload-D
6971bed91ea7        busybox              "/bin/sh"           43 minutes ago      Up 43 minutes                     swarm-node2/workload-C
4ad182b5cfbd        busybox              "/bin/sh"           43 minutes ago      Up 43 minutes                     swarm-node1/workload-B
58736abaf698        busybox              "/bin/sh"           44 minutes ago      Up 44 minutes                     swarm-node2/workload-A
9c22e2e3b393        calico/node:v0.4.9   "/sbin/my_init"     56 minutes ago      Up 55 minutes                     swarm-node1/calico-node
3dff7c3d76c6        calico/node:v0.4.9   "/sbin/my_init"     About an hour ago   Up 59 minutes                     swarm-node2/calico-node
</code></pre></div></div>

<p>By default, networks are configured so that their members can communicate with
one another, but workloads in other networks cannot reach them. A, C and E are
all in the same network so should be able to ping each other. B and D are in
their own networks so shouldn’t be able to ping anyone else.</p>

<p>Verify this by pinging workloads C and E from workload A.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker -H $MANAGER_IP:$SWARM_PORT exec workload-A ping -c 4 workload-C
$ docker -H $MANAGER_IP:$SWARM_PORT exec workload-A ping -c 4 workload-E
</code></pre></div></div>

<p>Also check that A cannot ping B or D. This is slightly trickier because the
hostnames for different networks will not be added to the host configuration of
the container - so we need to determine the IP addresses assigned to containers
B and D.</p>

<p>To find the IP address of workload B, we can run the <code class="highlighter-rouge">docker inspect</code> command.
Then, use the returned IP address to test connectivity between workloads A and
B. These pings should fail.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ export WORKLOADB_IP=`docker -H $MANAGER_IP:$SWARM_PORT inspect --format "{{ .NetworkSettings.Networks.net2.IPAddress }}" workload-B`
$ docker -H $MANAGER_IP:$SWARM_PORT exec workload-A ping -c 4 $WORKLOADB_IP
</code></pre></div></div>

              
              <!-- BOTTOM DOCUMENTATION PAGE NAVBAR -->
              <div style="margin-top: 60px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #999; text-align: left; color: #999;">Rate this Page: <div class="rw-ui-container" style="margin-top: -5px;"></div> <a href="https://www.projectcalico.org/contact?type=docs&file=v1.6/getting-started/docker/tutorials/docker-swarm.md" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i> Provide Feedback</a> <a href="https://www.projectcalico.org/community#slack" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-slack" aria-hidden="true"></i> Get Help via Slack</a> <a href="https://www.projectcalico.org/mvp" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-trophy" aria-hidden="true"></i> Ask our MVPs</a> <a href="https:/tigera.io/training" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Training</a></div>
              <!-- END BOTTOM DOCUMENTATION PAGE NAVBAR -->
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Start Visual Website Optimizer Asynchronous Code -->
    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=287573,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=false,
      /* DO NOT EDIT BELOW THIS LINE */
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>
    <!-- End Visual Website Optimizer Asynchronous Code -->
    <!-- DOCUMENTATION RATING ANALYTICS -->
   <script type="text/javascript">(function(d, t, e, m){
    // Async Rating-Widget initialization.
    window.RW_Async_Init = function(){
        RW.init({
            huid: "368439",
            uid: "33da22c0dff384767b5074aaf10ebc50",
            source: "website",
            options: {
                "advanced": {
					"font": {
						"color": "#999999"
					},
                    "layout": {
                        "align": {
                            "hor": "left"
                        }
                    },
                    "text": {
                        "rateThis": "Rate this"
                    }
                },
				"label": {
					"background": "#FFFFFF"
				},
				"reVote": true,
				"showInfo": false,
				/*"showTooltip": false,*/
				"hideRecommendations": false,
				"showReport": false,
				"showLoader": false,
                "style": "oxygen",
                "isDummy": false
            } 
        });
        RW.render();
    };
        // Append Rating-Widget JavaScript library.
    var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
        l = d.location, ck = "Y" + t.getFullYear() + 
        "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
        f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
        a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
    if (d.getElementById(id)) return;              
    rw = d.createElement(e);
    rw.id = id; rw.async = true; rw.type = "text/javascript";
    rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
    s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));</script>
    <!-- END DOCUMENTATION RATING ANALYTICS -->
  </body>
</html>
