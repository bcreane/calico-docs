<!-- Set this_pages_navbar  -->












<!Doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
    <link rel="stylesheet" href="/css/style.css"/>
    <link rel="stylesheet" href="/css/plugins/offcanvas.css"/>
    <link href="https://www.projectcalico.org/wp-content/themes/dante/css/font-awesome.min.css" rel="stylesheet">
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/bootstrap/bootstrap.min.js"></script>
    <script src="/js/script.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52125893-4', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Deploying Calico and Kubernetes on AWS</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="Deploying Calico and Kubernetes on AWS" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://docs.projectcalico.org/v3.0/getting-started/kubernetes/installation/aws" />
<meta property="og:url" content="https://docs.projectcalico.org/v3.0/getting-started/kubernetes/installation/aws" />
<script type="application/ld+json">
{"headline":"Deploying Calico and Kubernetes on AWS","@type":"WebPage","url":"https://docs.projectcalico.org/v3.0/getting-started/kubernetes/installation/aws","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <section>
      <nav id="toplevel-nav" class="navbar navbar-default navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <!-- Hamburger menu for mobile -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#tigera-navbar" aria-expanded="false" aria-controls="tigera-navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <!-- Left brand image -->
            <a class="navbar-brand" href="https://projectcalico.org/">
              <img alt="Brand" src="/images/brand.png">
            </a>
          </div>
          <div id="tigera-navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://projectcalico.org">Home</a></li>
              <li class="active"><a href="https://projectcalico.org/resources"><span>Resources</span></a>
                <ul>
                    <li><a href="/latest/getting-started/"><i class="fa fa-tachometer" aria-hidden="true"></i> &nbsp; Getting Started</a></li>
                    <li><a href=""><i class="fa fa-book" aria-hidden="true"></i> &nbsp; Documentation</a></li>
                    <!--<li><a href="https://www.projectcalico.org/tutorials"><i class="fa fa-file-code-o" aria-hidden="true"></i> &nbsp; Tutorials &amp; Examples</a></li>
                    <li><a href=""><i class="fa fa-paper-plane-o" aria-hidden="true"></i> &nbsp; Online Workshops</a></li>-->
                    <li><a href="https://www.projectcalico.org/videos"><i class="fa fa-video-camera" aria-hidden="true"></i> &nbsp; Videos &amp; Webinars</a></li>
                    <li><a href="https://www.projectcalico.org/training"><i class="fa fa-graduation-cap" aria-hidden="true"></i> &nbsp; Training</a></li>
                    <li><a href="/latest/releases/"><i class="fa fa-clock-o" aria-hidden="true"></i> &nbsp; Releases</a></li>
                    <!-- <li><a href="/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li> -->
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/community">Community</a>
                <ul>
                    <li><a href="https://slack.projectcalico.org/"><i class="fa fa-slack" aria-hidden="true"></i> &nbsp; Slack</a></li>
                    <!--<li><a href="https://stackoverflow.com/questions/tagged/project-calico" target="_blank"><i class="fa fa-stack-overflow" aria-hidden="true"></i> &nbsp; StackOverflow</a></li>-->
                    <li><a href="https://www.projectcalico.org/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li>
                    <li><a href="https://www.projectcalico.org/community#events"><i class="fa fa-calendar" aria-hidden="true"></i> &nbsp; Upcoming Events</a></li>
                    <li><a href="https://www.projectcalico.org/newsletters"><i class="fa fa-envelope-o" aria-hidden="true"></i> &nbsp; Newsletter</a></li>
                    <li><a href="https://github.com/projectcalico" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> &nbsp; GitHub</a></li> 
                    <li><a href="https://www.projectcalico.org/jobs"><i class="fa fa-briefcase" aria-hidden="true"></i> &nbsp; Jobs</a></li>
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/mvp" style="font-weight: bold;">MVP</a></li>
              <li><a href="https://www.projectcalico.org/support">Support</a></li>
              <li class="hidden-xs"><a href="https://www.projectcalico.org/support">
                <img class="desktopImage" width="30" align="absmiddle" src="https://www.projectcalico.org/images/tigera_trans_sm.png" alt="Tigera"></a>
              </li>
            </ul>
            <form class="navbar-form visible-xs">
              <ul class="nav navbar-nav navbar-right">
                
                  <li >
                    <a href="/v1.5/introduction">Introduction</a>
                  </li>
                
                  <li  class="active">
                    <a href="/v1.5/getting-started">Getting Started</a>
                  </li>
                
                  <li >
                    <a href="/v1.5/usage">Usage</a>
                  </li>
                
                  <li >
                    <a href="/v1.5/reference">Reference</a>
                  </li>
                
                  <li >
                    <a href="/v1.5/releases">Releases</a>
                  </li>
                
              </ul>
            </form>
            <ul class="visible-xs nav navbar-nav navbar-right">
             <li class="dropdown">
               <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (v1.5)<span class="caret"></span></a>
               <ul class="dropdown-menu">
                 <li><a href="/v2.6/introduction">v2.6 (latest)</a></li>
                 <li><a href="/v2.5/introduction">v2.5</a></li>
                 <li><a href="/v2.4/introduction">v2.4</a></li>
                 <li><a href="/v2.3/introduction">v2.3</a></li>
                 <li><a href="/v2.2/introduction">v2.2</a></li>
                 <li><a href="/v2.1/introduction">v2.1</a></li>
                 <li><a href="/v2.0/introduction">v2.0</a></li>
                 <li><a href="/v1.6/introduction">v1.6</a></li>
                 <li><a href="/v1.5/introduction">v1.5</a></li>
                 <li><a href="/v3.0/introduction">v3.0 (beta)</a></li>
                 <li><a href="/master/introduction">nightly</a></li>
                 <li role="separator" class="divider"></li>
               </ul>
             </li>
           </ul>
          </div>
        </div>
        <div id="navbar" class="navbar-inverse navbar-collapse collapse">
          <div class="container">
            <ul class="nav navbar-nav">
              
                <li>
                  <a href="/v1.5/introduction"><span>Introduction</span></a>
                </li>
              
                <li class="active">
                  <a href="/v1.5/getting-started"><span>Getting Started</span></a>
                </li>
              
                <li>
                  <a href="/v1.5/usage"><span>Usage</span></a>
                </li>
              
                <li>
                  <a href="/v1.5/reference"><span>Reference</span></a>
                </li>
              
                <li>
                  <a href="/v1.5/releases"><span>Releases</span></a>
                </li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (v1.5)<span class="caret"></span></a>
                <ul class="dropdown-menu">
                   <li><a href="/v3.0/introduction">v3.0 (latest)</a></li>
                   <li><a href="/v2.6/introduction">v2.6</a></li>
                   <li><a href="/v2.5/introduction">v2.5</a></li>
                   <li><a href="/v2.4/introduction">v2.4</a></li>
                   <li><a href="/v2.3/introduction">v2.3</a></li>
                   <li><a href="/v2.2/introduction">v2.2</a></li>
                   <li><a href="/v2.1/introduction">v2.1</a></li>
                   <li><a href="/v2.0/introduction">v2.0</a></li>
                   <li><a href="/v1.6/introduction">v1.6</a></li>
                   <li><a href="/v1.5/introduction">v1.5</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="/master/introduction">nightly</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="row">
            <div class="col-sm-0"></div>
          </div>
        </div>
      </nav>
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-left">
          <p class="pull-left visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>
          <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
            <div class="row">
              <script>
                (function() {
                  var cx = '015028447179048192876:xjzskk7awwe';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
                })();
              </script>
              <gcse:search></gcse:search>
            </div>
            <div id="sidebar">
            	

  
    
    
    <div class="link">
      <a class="item" data-title="Getting Started with Calico" href="/v1.5/getting-started/">
        Getting Started with Calico
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes" aria-expanded="false" aria-controls="nav-kubernetes">
          Kubernetes
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/kubernetes/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes-installation" aria-expanded="false" aria-controls="nav-kubernetes-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Introduction" href="/v1.5/getting-started/kubernetes/installation/">
        Introduction
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Hosted" href="/v1.5/getting-started/kubernetes/installation/hosted/">
        Hosted
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="AWS" href="/v1.5/getting-started/kubernetes/installation/aws">
        AWS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="GCE" href="/v1.5/getting-started/kubernetes/installation/gce">
        GCE
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: CoreOS" href="/v1.5/getting-started/kubernetes/installation/vagrant/">
        Vagrant/VirtualBox: CoreOS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Kubeadm" href="/v1.5/getting-started/kubernetes/installation/hosted/kubeadm/">
        Kubeadm
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-kubernetes-tutorials" aria-expanded="false" aria-controls="nav-kubernetes-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-kubernetes-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Simple Policy Demo" href="/v1.5/getting-started/kubernetes/tutorials/simple-policy">
        Simple Policy Demo
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Stars Policy Demo" href="/v1.5/getting-started/kubernetes/tutorials/stars-policy/">
        Stars Policy Demo
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/kubernetes/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/kubernetes/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos" aria-expanded="false" aria-controls="nav-mesos">
          Mesos
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/mesos/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-installation" aria-expanded="false" aria-controls="nav-mesos-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Prerequisites" href="/v1.5/getting-started/mesos/installation/prerequisites">
        Prerequisites
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Unified Containerizer (CNI)" href="/v1.5/getting-started/mesos/installation/unified">
        Unified Containerizer (CNI)
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Containerizer (libnetwork)" href="/v1.5/getting-started/mesos/installation/docker">
        Docker Containerizer (libnetwork)
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="DC/OS" href="/v1.5/getting-started/mesos/installation/dc-os">
        DC/OS
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-tutorials" aria-expanded="false" aria-controls="nav-mesos-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Containerizer" href="/v1.5/getting-started/mesos/tutorials/docker">
        Docker Containerizer
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Unified Containerizer" href="/v1.5/getting-started/mesos/tutorials/unified">
        Unified Containerizer
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-mesos-demos" aria-expanded="false" aria-controls="nav-mesos-demos">
          Demos
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-mesos-demos">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant Quickstart - Docker Containerizer" href="/v1.5/getting-started/mesos/vagrant/">
        Vagrant Quickstart - Docker Containerizer
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Stars Demo - Docker Containerizer" href="/v1.5/getting-started/mesos/demos/docker/">
        Stars Demo - Docker Containerizer
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/mesos/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/mesos/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker" aria-expanded="false" aria-controls="nav-docker">
          Docker
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/docker/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker-installation" aria-expanded="false" aria-controls="nav-docker-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Manual" href="/v1.5/getting-started/docker/installation/manual">
        Manual
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="AWS" href="/v1.5/getting-started/docker/installation/aws">
        AWS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="DigitalOcean" href="/v1.5/getting-started/docker/installation/digital-ocean">
        DigitalOcean
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="GCE" href="/v1.5/getting-started/docker/installation/gce">
        GCE
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: CoreOS" href="/v1.5/getting-started/docker/installation/vagrant-coreos/">
        Vagrant/VirtualBox: CoreOS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant/VirtualBox: Ubuntu" href="/v1.5/getting-started/docker/installation/vagrant-ubuntu/">
        Vagrant/VirtualBox: Ubuntu
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-docker-tutorials" aria-expanded="false" aria-controls="nav-docker-tutorials">
          Tutorials
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-docker-tutorials">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Installation & Basic Use" href="/v1.5/getting-started/docker/tutorials/basic">
        Installation & Basic Use
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Configuring Policy" href="/v1.5/getting-started/docker/tutorials/advanced-policy">
        Configuring Policy
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Using IPv6" href="/v1.5/getting-started/docker/tutorials/ipv6">
        Using IPv6
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Docker Swarm" href="/v1.5/getting-started/docker/tutorials/docker-swarm">
        Docker Swarm
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/docker/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/docker/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-openstack" aria-expanded="false" aria-controls="nav-openstack">
          OpenStack
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-openstack">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/openstack/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-openstack-installation" aria-expanded="false" aria-controls="nav-openstack-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-openstack-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/openstack/installation/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Ubuntu" href="/v1.5/getting-started/openstack/installation/ubuntu">
        Ubuntu
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Red Hat Enterprise Linux 7" href="/v1.5/getting-started/openstack/installation/redhat">
        Red Hat Enterprise Linux 7
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Juju Charms" href="/v1.5/getting-started/openstack/installation/juju">
        Juju Charms
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Fuel" href="/v1.5/getting-started/openstack/installation/fuel">
        Fuel
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Chef" href="/v1.5/getting-started/openstack/installation/chef">
        Chef
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/openstack/upgrade">
        Upgrade
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="/v1.5/getting-started/openstack/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/openstack/verification">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="IP Addressing and Connectivity" href="/v1.5/getting-started/openstack/connectivity">
        IP Addressing and Connectivity
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-rkt" aria-expanded="false" aria-controls="nav-rkt">
          rkt
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-rkt">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/rkt/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-rkt-installation" aria-expanded="false" aria-controls="nav-rkt-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-rkt-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Vagrant" href="/v1.5/getting-started/rkt/vagrant/">
        Vagrant
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="/v1.5/getting-started/rkt/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/rkt/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/rkt/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-hostprotection" aria-expanded="false" aria-controls="nav-hostprotection">
          Host Protection
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-hostprotection">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/v1.5/getting-started/bare-metal/bare-metal">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-hostprotection-installation" aria-expanded="false" aria-controls="nav-hostprotection-installation">
          Installation
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-hostprotection-installation">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Alternative Felix Install with PyInstaller Bundle" href="/v1.5/getting-started/bare-metal/pyi-bare-metal-install">
        Alternative Felix Install with PyInstaller Bundle
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Tutorials" href="/v1.5/getting-started/bare-metal/tutorials">
        Tutorials
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Troubleshooting" href="/v1.5/getting-started/bare-metal/troubleshooting">
        Troubleshooting
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Upgrade" href="/v1.5/getting-started/bare-metal/upgrade">
        Upgrade
      </a>
    </div>
  


        </div>
      </div>
    </div>
  


			</div>
          </div>
          <div class="col-xs-12 col-sm-8 col-md-9">
            <div id="content-main">
              <!-- TOP DOCUMENTATION PAGE NAVBAR -->
              <div style="text-align: left; padding: 18px 0 9px 0; min-width: 500px; overflow-x: hidden;">
              
              <a data-proofer-ignore href="https://github.com/projectcalico/calico/tree/master/v1.5/getting-started/kubernetes/installation/aws.md" style="color: #999; text-decoration: none; float: right;" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit this page</a></div>
              <!-- END TOP DOCUMENTATION PAGE NAVBAR -->
              
  <div class="alert alert-warning" role="alert">
    <strong>Warning:</strong> You are viewing the v1.5 docs. <a href="/latest">Click here to view the docs for the latest release.</a>
  </div>


              <h1>Deploying Calico and Kubernetes on AWS</h1>
              <p>These instructions allow you to set up a Kubernetes cluster with Calico networking on AWS using the <a href="https://github.com/projectcalico/calico-cni">Calico CNI plugin</a>. This guide does not setup TLS between Kubernetes components or on the Kubernetes API.</p>

<h2 id="1-getting-started-with-aws">1. Getting started with AWS</h2>

<p>These instructions describe how to set up two CoreOS hosts on AWS.  For more general background, see
<a href="https://coreos.com/os/docs/latest/booting-on-ec2.html">the CoreOS on AWS EC2 documentation</a>.</p>

<p>Download and install AWS Command Line Interface:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="s2">"https://s3.amazonaws.com/aws-cli/awscli-bundle.zip"</span> <span class="nt">-o</span> <span class="s2">"awscli-bundle.zip"</span>
unzip awscli-bundle.zip
<span class="nb">sudo</span> ./awscli-bundle/install <span class="nt">-i</span> /usr/local/aws <span class="nt">-b</span> /usr/local/bin/aws
</code></pre></div></div>

<p>For more information, see Amazon’s <a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html#install-bundle-other-os">Installing the AWS Command Line Interface</a>.</p>

<p>Run the AWS configure command, which will prompt you to set your User keys.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws configure
<span class="c">#&gt;  AWS Access Key ID: &lt;User Access Key&gt;</span>
<span class="c">#&gt;  AWS Secret Access Key: &lt;User Secret Access Key&gt;</span>
<span class="c">#&gt;  Default region name: &lt;Region Name, eg. us-west-2&gt;</span>
<span class="c">#&gt;  Default output format: &lt;json, text, or table&gt;</span>
</code></pre></div></div>

<p>Note: Your <code class="highlighter-rouge">&lt;Region Name&gt;</code> can be found on the front page of the EC2 dashboard under the “Service Health” text.</p>

<p>Your AWS user needs to have the policy AmazonEC2FullAccess or be in a group with this policy in order to run the ec2
commands.  This can be set in the <code class="highlighter-rouge">Services&gt;IAM&gt;Users</code> User configuration page of the web console.
For more information on configuration and keys, see Amazon’s
<a href="http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-calico-with-docker.html">Configuring the AWS Command Line Interface</a>.</p>

<h2 id="2-setting-up-aws-networking">2. Setting up AWS networking</h2>

<p>You’ll need to configure AWS to allow your hosts to talk to each other.</p>

<p>A Virtual Private Cloud (VPC) is required on AWS in order to configure Calico networking on EC2. Your AWS account should have a default VPC that instances
automatically attach to when they are created.</p>

<p>To check if you have a default VPC, run the following command, then save VPC ID as an environment variable to use later.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 describe-vpcs --filters "Name=isDefault,Values=true"

# Save VpcId from output as environment variable (without quotes)
export VPC_ID=&lt;VpcId&gt;
</code></pre></div></div>

<p>If you do not have a default VPC or you would like to create a VPC specifically for your hosts that have Calico-networked containers, follow
the instructions below.</p>

<h3 id="21-creating-an-aws-vpc">2.1 Creating an AWS VPC</h3>

<blockquote>
  <p>NOTE: This step is only required if you do not have a default VPC or if you would like
to create a new VPC explicitly for your Calico hosts.  Skip to Configuring Key Pair and
Security Group if this does not apply to you.</p>
</blockquote>

<p>For SSH purposes on AWS, you will need to configure a Subnet, Internet Gateway, and Route Table on the VPC.</p>

<p>Create the VPC to use as the network for your hosts.  Set a <code class="highlighter-rouge">VPC_ID</code> environment variable to
make things a bit easier, replacing <code class="highlighter-rouge">&lt;VpcId&gt;</code> with the <code class="highlighter-rouge">VpcId</code> value returned from the command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-vpc <span class="nt">--cidr-block</span> 172.35.0.0/24
<span class="nb">export </span><span class="nv">VPC_ID</span><span class="o">=</span>&lt;VpcId&gt;
</code></pre></div></div>

<p>Create a subnet for your hosts, then save a <code class="highlighter-rouge">SUBNET_ID</code> environment variable, replacing <code class="highlighter-rouge">&lt;SubnetId&gt;</code> with the <code class="highlighter-rouge">SubnetId</code> output value of the command.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-subnet <span class="nt">--vpc-id</span> <span class="nv">$VPC_ID</span> <span class="nt">--cidr-block</span> 172.35.0.0/24
<span class="nb">export </span><span class="nv">SUBNET_ID</span><span class="o">=</span>&lt;SubnetId&gt;
</code></pre></div></div>

<p>Modify the Subnet to auto-assign public ip addresses:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 modify-subnet-attribute <span class="nt">--subnet-id</span> <span class="nv">$SUBNET_ID</span> <span class="nt">--map-public-ip-on-launch</span>
</code></pre></div></div>

<p>Create an Internet Gateway.  Save the <code class="highlighter-rouge">InternetGatewayId</code> value as an environment variable.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-internet-gateway
<span class="nb">export </span><span class="nv">GATEWAY_ID</span><span class="o">=</span>&lt;InternetGatewayId&gt;
</code></pre></div></div>

<p>Attach the gateway to the VPC.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 attach-internet-gateway --vpc-id $VPC_ID --internet-gateway $GATEWAY_ID
</code></pre></div></div>

<p>Create a Route Table on the VPC. Save the <code class="highlighter-rouge">RouteTableId</code> as an environment variable.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-route-table <span class="nt">--vpc-id</span> <span class="nv">$VPC_ID</span>
<span class="nb">export </span><span class="nv">ROUTE_TABLE_ID</span><span class="o">=</span>&lt;RouteTableId&gt;
</code></pre></div></div>

<p>Associate the route table with the Subnet and add a route to the Internet.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 associate-route-table <span class="nt">--subnet-id</span> <span class="nv">$SUBNET_ID</span> <span class="nt">--route-table-id</span> <span class="nv">$ROUTE_TABLE_ID</span>
aws ec2 create-route <span class="nt">--route-table-id</span> <span class="nv">$ROUTE_TABLE_ID</span> <span class="nt">--destination-cidr-block</span> 0.0.0.0/0 <span class="se">\</span>
  <span class="nt">--gateway-id</span> <span class="nv">$GATEWAY_ID</span>
</code></pre></div></div>

<p>Enable DNS names on the VPC.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 modify-vpc-attribute <span class="nt">--vpc-id</span><span class="o">=</span><span class="nv">$VPC_ID</span> <span class="nt">--enable-dns-support</span>
</code></pre></div></div>

<h3 id="22-configuring-key-pair-and-security-group">2.2 Configuring Key Pair and Security Group</h3>

<p>Create a Key Pair to use for ssh access to the instances. The following command will generate a key for you.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-key-pair <span class="nt">--key-name</span> mykey <span class="nt">--output</span> text
</code></pre></div></div>

<p>Copy the output into a new file called mykey.pem.  The file must only include <code class="highlighter-rouge">-----BEGIN RSA PRIVATE KEY-----</code>,
<code class="highlighter-rouge">-----END RSA PRIVATE KEY-----</code>, and everything in between.  Then, set appropriate permissions for your key file.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>400 mykey.pem
</code></pre></div></div>

<p>A Security Group is required on the instances to control allowed traffic.  Save the <code class="highlighter-rouge">GroupId</code> output from the first command as an environment variable.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create Security Group</span>
aws ec2 create-security-group <span class="nt">--group-name</span> MySG <span class="se">\</span>
  <span class="nt">--description</span> MySecurityGroup <span class="nt">--vpc-id</span> <span class="nv">$VPC_ID</span>

<span class="c"># Save environment variable of GroupId</span>
<span class="nb">export </span><span class="nv">SECURITY_GROUP_ID</span><span class="o">=</span>&lt;GroupId&gt;
</code></pre></div></div>

<p>Allow SSH from the internet and allow all traffic between instances within the group.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Allow SSH access</span>
aws ec2 authorize-security-group-ingress <span class="nt">--group-id</span> <span class="nv">$SECURITY_GROUP_ID</span> <span class="se">\</span>
  <span class="nt">--protocol</span> tcp <span class="nt">--port</span> 22 <span class="nt">--cidr</span> 0.0.0.0/0

<span class="c"># Allow all traffic within the VPC</span>
aws ec2 authorize-security-group-ingress <span class="nt">--group-id</span> <span class="nv">$SECURITY_GROUP_ID</span> <span class="se">\</span>
  <span class="nt">--source-group</span> <span class="nv">$SECURITY_GROUP_ID</span>  <span class="nt">--protocol</span> all <span class="nt">--port</span> all
</code></pre></div></div>

<h2 id="3-spinning-up-the-vms">3. Spinning up the VMs</h2>

<p>Create the Kubernetes master and at least one Kubernetes nodes by passing in appropriate <code class="highlighter-rouge">cloud-config</code> files.</p>

<p>To get the necessary ‘cloud-config’ files, clone the project:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/projectcalico/calico.git
</code></pre></div></div>

<p>Then, change into the directory for this guide.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd calico/v1.5/getting-started/kubernetes/installation
</code></pre></div></div>

<p>Find your CoreOS stable HVM image for your region and store it as an environment variable.  You can find the
full list of available images on <a href="https://coreos.com/os/docs/latest/booting-on-ec2.html">the CoreOS website</a>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">IMAGE_ID</span><span class="o">=</span>&lt;ami-########&gt;
</code></pre></div></div>

<blockquote>
  <p>Use <code class="highlighter-rouge">aws ec2 describe-availability-zones</code> to display your region if you do not remember.</p>
</blockquote>

<p>Deploy the Kubernetes master node using the following command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 run-instances <span class="se">\</span>
  <span class="nt">--image-id</span> <span class="nv">$IMAGE_ID</span> <span class="se">\</span>
  <span class="nt">--instance-type</span> t2.micro <span class="se">\</span>
  <span class="nt">--key-name</span> mykey <span class="se">\</span>
  <span class="nt">--security-group-ids</span> <span class="nv">$SECURITY_GROUP_ID</span> <span class="se">\</span>
  <span class="nt">--user-data</span> file://cloud-config/master-config.yaml
<span class="c">#  --subnet $SUBNET_ID</span>
<span class="c">#  Include the subnet param above if using a non-default VPC</span>

<span class="c"># Save the instance id to an environment variable</span>
<span class="nv">INSTANCE_ID_MASTER</span><span class="o">=</span>&lt;InstanceId&gt;
</code></pre></div></div>

<p>You may want to tag the instance so that you can distinguish it from the nodes later.  Tag it with “role=master”.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 create-tags <span class="nt">--resources</span> <span class="nv">$INSTANCE_ID_MASTER</span> <span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>role,Value<span class="o">=</span>master
</code></pre></div></div>

<p>You can view tags with <code class="highlighter-rouge">aws ec2 describe-tags</code>.</p>

<p>Now, deploy at least one worker node.</p>

<p>First, edit <code class="highlighter-rouge">cloud-config/node-config.yaml</code> and replace all instances of <code class="highlighter-rouge">kubernetes-master</code> with your Master’s private
DNS name.  This can be found in the output of the previous command, or the AWS portal. You can do this with a <code class="highlighter-rouge">sed</code>
command, replacing <code class="highlighter-rouge">&lt;MASTER_PRIVATE_DNS&gt;</code> with your master’s private DNS name:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sed -i 's/kubernetes-master/&lt;MASTER_PRIVATE_DNS&gt;/g' cloud-config/node-config.yaml
</code></pre></div></div>

<p>Then, run the following command to start a node instance.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 run-instances \
  --image-id $IMAGE_ID \
  --instance-type t2.micro \
  --key-name mykey \
  --security-group-ids $SECURITY_GROUP_ID \
  --user-data file://cloud-config/node-config.yaml
#  --subnet $SUBNET_ID
#  Include the subnet param above if using a non-default VPC

# Save the instance id to an environment variable
INSTANCE_ID_SLAVE_1=&lt;InstanceId&gt;
</code></pre></div></div>

<p>Finally, disable <code class="highlighter-rouge">Source/Dest. Check</code> on each instance (including the master) to allow routing between pods without needing IP in IP.  All instances must be in the same subnet.  You can do this with the CLI, or in the <code class="highlighter-rouge">Networking</code> part of the instances’ right click menus.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws ec2 modify-instance-attribute <span class="nt">--instance-id</span> <span class="nv">$INSTANCE_ID_MASTER</span> <span class="nt">--source-dest-check</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">: false}"</span>
aws ec2 modify-instance-attribute <span class="nt">--instance-id</span> <span class="nv">$INSTANCE_ID_SLAVE_1</span> <span class="nt">--source-dest-check</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">Value</span><span class="se">\"</span><span class="s2">: false}"</span>
...
</code></pre></div></div>

<h2 id="4-using-your-cluster">4. Using your cluster</h2>

<h3 id="41-configuring-kubectl">4.1 Configuring kubectl</h3>

<p>The following steps configure remote kubectl access to your cluster.</p>

<p>Download <code class="highlighter-rouge">kubectl</code></p>
<blockquote>
  <p>The linux kubectl binary can be fetched with a command like:</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://storage.googleapis.com/kubernetes-release/release/v1.4.0/bin/linux/amd64/kubectl
<span class="nb">chmod</span> +x ./kubectl
</code></pre></div></div>

<blockquote>
  <p>On an OS X workstation, replace linux in the URL above with darwin:</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://storage.googleapis.com/kubernetes-release/release/v1.4.0/bin/darwin/amd64/kubectl
</code></pre></div></div>

<p>Save the public DNS name for the master in an environment variable. Replace <code class="highlighter-rouge">ec2-###-##-##-###.compute-1.amazonaws.com</code> with the master public DNS name - you can find this in the AWS portal, or by running <code class="highlighter-rouge">aws ec2 describe-instances</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">MASTER_DNS</span><span class="o">=</span>&lt;ec2-###-##-##-###.compute-1.amazonaws.com&gt;
</code></pre></div></div>

<p>Make sure you can ssh to the master. Replace <code class="highlighter-rouge">~/mykey.pem</code> with the location of the keypair you generated earlier.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-i</span> ~/mykey.pem core@<span class="nv">$MASTER_DNS</span>
</code></pre></div></div>

<p>Close the SSH session, and forward port 8080 to your master.  The following command sets up SSH forwarding of port 8080 to your master node so that you can run <code class="highlighter-rouge">kubectl</code> commands on your local machine.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-i</span> ~/mykey.pem <span class="nt">-N</span> <span class="nt">-L</span> 8080:<span class="k">${</span><span class="nv">MASTER_DNS</span><span class="k">}</span>:8080 core@<span class="nv">$MASTER_DNS</span> &amp;
</code></pre></div></div>

<p>Verify that you can access the Kubernetes API.  The following command should return a list of Kubernetes nodes.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./kubectl get nodes
</code></pre></div></div>
<h3 id="42-configure-outbound-nat">4.2 Configure Outbound NAT</h3>

<p>To enable connectivity to the internet for our Pods, we’ll use <code class="highlighter-rouge">calicoctl</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Log into the master instance.</span>
ssh <span class="nt">-i</span> ~/mykey.pem core@<span class="nv">$MASTER_DNS</span>

<span class="c"># Enable outgoing NAT on the Calico pool.</span>
docker run <span class="nt">--rm</span> <span class="nt">--net</span><span class="o">=</span>host calico/ctl pool add 192.168.0.0/16 <span class="nt">--nat-outgoing</span>
</code></pre></div></div>

<h2 id="5-install-addons">5. Install Addons</h2>

<h3 id="install-calico">Install Calico</h3>
<p>Calico can be installed on Kubernetes using Kubernetes resources (DaemonSets, etc).</p>

<p>The Calico self-hosted installation consists of three objects in the <code class="highlighter-rouge">kube-system</code> Namespace:</p>

<ul>
  <li>A <code class="highlighter-rouge">ConfigMap</code> which contains the Calico configuration.</li>
  <li>A <code class="highlighter-rouge">DaemonSet</code> which installs the <code class="highlighter-rouge">calico/node</code> pod and CNI plugin.</li>
  <li>A <code class="highlighter-rouge">ReplicaSet</code> which installs the <code class="highlighter-rouge">calico/kube-policy-controller</code> pod.</li>
</ul>

<p>To intall these components, first ensure you’re in the correct directory:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>calico/v1.5/getting-started/kubernetes/installation
</code></pre></div></div>

<p>Then, install the Calico manifest:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> hosted/calico.yaml
</code></pre></div></div>

<p>You should see the pods start in the <code class="highlighter-rouge">kube-system</code> Namespace:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get pods <span class="nt">--namespace</span><span class="o">=</span>kube-system
NAME                             READY     STATUS    RESTARTS   AGE
calico-node-1f4ih                2/2       Running   0          1m
calico-node-hor7x                2/2       Running   0          1m
calico-node-si5br                2/2       Running   0          1m
calico-policy-controller-so4gl   1/1       Running   0          1m
</code></pre></div></div>

<h3 id="install-dns">Install DNS</h3>

<p>To install KubeDNS, use the provided manifest.  This enables Kubernetes Service discovery.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> manifests/skydns.yaml
</code></pre></div></div>

<h2 id="next-steps">Next Steps</h2>
<p>You should now have a fully functioning Kubernetes cluster using Calico for networking.  You’re ready to use your cluster.</p>

<p>We recommend you try using <a href="/v1.5/getting-started/kubernetes/tutorials/simple-policy">Calico for Kubernetes NetworkPolicy</a>.</p>


              
              <!-- BOTTOM DOCUMENTATION PAGE NAVBAR -->
              <div style="margin-top: 60px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #999; text-align: left; color: #999;">Rate this Page: <div class="rw-ui-container" style="margin-top: -5px;"></div> <a href="https://www.projectcalico.org/contact?type=docs&file=v1.5/getting-started/kubernetes/installation/aws.md" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i> Provide Feedback</a> <a href="https://www.projectcalico.org/community#slack" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-slack" aria-hidden="true"></i> Get Help via Slack</a> <a href="https://www.projectcalico.org/mvp" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-trophy" aria-hidden="true"></i> Ask our MVPs</a> <a href="https:/tigera.io/training" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Training</a></div>
              <!-- END BOTTOM DOCUMENTATION PAGE NAVBAR -->
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Start Visual Website Optimizer Asynchronous Code -->
    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=287573,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=false,
      /* DO NOT EDIT BELOW THIS LINE */
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>
    <!-- End Visual Website Optimizer Asynchronous Code -->
    <!-- DOCUMENTATION RATING ANALYTICS -->
   <script type="text/javascript">(function(d, t, e, m){
    // Async Rating-Widget initialization.
    window.RW_Async_Init = function(){
        RW.init({
            huid: "368439",
            uid: "33da22c0dff384767b5074aaf10ebc50",
            source: "website",
            options: {
                "advanced": {
					"font": {
						"color": "#999999"
					},
                    "layout": {
                        "align": {
                            "hor": "left"
                        }
                    },
                    "text": {
                        "rateThis": "Rate this"
                    }
                },
				"label": {
					"background": "#FFFFFF"
				},
				"reVote": true,
				"showInfo": false,
				/*"showTooltip": false,*/
				"hideRecommendations": false,
				"showReport": false,
				"showLoader": false,
                "style": "oxygen",
                "isDummy": false
            } 
        });
        RW.render();
    };
        // Append Rating-Widget JavaScript library.
    var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
        l = d.location, ck = "Y" + t.getFullYear() + 
        "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
        f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
        a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
    if (d.getElementById(id)) return;              
    rw = d.createElement(e);
    rw.id = id; rw.async = true; rw.type = "text/javascript";
    rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
    s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));</script>
    <!-- END DOCUMENTATION RATING ANALYTICS -->
  </body>
</html>
