<!-- Set this_pages_navbar  -->












<!Doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
    <link rel="stylesheet" href="/css/style.css"/>
    <link rel="stylesheet" href="/css/plugins/offcanvas.css"/>
    <link href="https://www.projectcalico.org/wp-content/themes/dante/css/font-awesome.min.css" rel="stylesheet">
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/bootstrap/bootstrap.min.js"></script>
    <script src="/js/script.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52125893-4', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Configuring Felix</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="Configuring Felix" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://docs.projectcalico.org/v3.0/reference/felix/configuration" />
<meta property="og:url" content="https://docs.projectcalico.org/v3.0/reference/felix/configuration" />
<script type="application/ld+json">
{"headline":"Configuring Felix","@type":"WebPage","url":"https://docs.projectcalico.org/v3.0/reference/felix/configuration","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <section>
      <nav id="toplevel-nav" class="navbar navbar-default navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <!-- Hamburger menu for mobile -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#tigera-navbar" aria-expanded="false" aria-controls="tigera-navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <!-- Left brand image -->
            <a class="navbar-brand" href="https://projectcalico.org/">
              <img alt="Brand" src="/images/brand.png">
            </a>
          </div>
          <div id="tigera-navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://projectcalico.org">Home</a></li>
              <li class="active"><a href="https://projectcalico.org/resources"><span>Resources</span></a>
                <ul>
                    <li><a href="/latest/getting-started/"><i class="fa fa-tachometer" aria-hidden="true"></i> &nbsp; Getting Started</a></li>
                    <li><a href=""><i class="fa fa-book" aria-hidden="true"></i> &nbsp; Documentation</a></li>
                    <!--<li><a href="https://www.projectcalico.org/tutorials"><i class="fa fa-file-code-o" aria-hidden="true"></i> &nbsp; Tutorials &amp; Examples</a></li>
                    <li><a href=""><i class="fa fa-paper-plane-o" aria-hidden="true"></i> &nbsp; Online Workshops</a></li>-->
                    <li><a href="https://www.projectcalico.org/videos"><i class="fa fa-video-camera" aria-hidden="true"></i> &nbsp; Videos &amp; Webinars</a></li>
                    <li><a href="https://www.projectcalico.org/training"><i class="fa fa-graduation-cap" aria-hidden="true"></i> &nbsp; Training</a></li>
                    <li><a href="/latest/releases/"><i class="fa fa-clock-o" aria-hidden="true"></i> &nbsp; Releases</a></li>
                    <!-- <li><a href="/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li> -->
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/community">Community</a>
                <ul>
                    <li><a href="https://slack.projectcalico.org/"><i class="fa fa-slack" aria-hidden="true"></i> &nbsp; Slack</a></li>
                    <!--<li><a href="https://stackoverflow.com/questions/tagged/project-calico" target="_blank"><i class="fa fa-stack-overflow" aria-hidden="true"></i> &nbsp; StackOverflow</a></li>-->
                    <li><a href="https://www.projectcalico.org/mvp"><i class="fa fa-star" aria-hidden="true"></i> &nbsp; MVP Program</a></li>
                    <li><a href="https://www.projectcalico.org/community#events"><i class="fa fa-calendar" aria-hidden="true"></i> &nbsp; Upcoming Events</a></li>
                    <li><a href="https://www.projectcalico.org/newsletters"><i class="fa fa-envelope-o" aria-hidden="true"></i> &nbsp; Newsletter</a></li>
                    <li><a href="https://github.com/projectcalico" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> &nbsp; GitHub</a></li> 
                    <li><a href="https://www.projectcalico.org/jobs"><i class="fa fa-briefcase" aria-hidden="true"></i> &nbsp; Jobs</a></li>
                    <li><a href="https://www.projectcalico.org/blog"><i class="fa fa-bookmark" aria-hidden="true"></i> &nbsp; Blog</a></li>
                </ul>
              </li>
              <li><a href="https://www.projectcalico.org/mvp" style="font-weight: bold;">MVP</a></li>
              <li><a href="https://www.projectcalico.org/support">Support</a></li>
              <li class="hidden-xs"><a href="https://www.projectcalico.org/support">
                <img class="desktopImage" width="30" align="absmiddle" src="https://www.projectcalico.org/images/tigera_trans_sm.png" alt="Tigera"></a>
              </li>
            </ul>
            <form class="navbar-form visible-xs">
              <ul class="nav navbar-nav navbar-right">
                
                  <li >
                    <a href="/master/introduction">Introduction</a>
                  </li>
                
                  <li >
                    <a href="/master/getting-started">Getting Started</a>
                  </li>
                
                  <li >
                    <a href="/master/usage">Usage</a>
                  </li>
                
                  <li  class="active">
                    <a href="/master/reference">Reference</a>
                  </li>
                
                  <li >
                    <a href="/master/releases">Releases</a>
                  </li>
                
              </ul>
            </form>
            <ul class="visible-xs nav navbar-nav navbar-right">
             <li class="dropdown">
               <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (nightly)<span class="caret"></span></a>
               <ul class="dropdown-menu">
                 <li><a href="/v2.6/introduction">v2.6 (latest)</a></li>
                 <li><a href="/v2.5/introduction">v2.5</a></li>
                 <li><a href="/v2.4/introduction">v2.4</a></li>
                 <li><a href="/v2.3/introduction">v2.3</a></li>
                 <li><a href="/v2.2/introduction">v2.2</a></li>
                 <li><a href="/v2.1/introduction">v2.1</a></li>
                 <li><a href="/v2.0/introduction">v2.0</a></li>
                 <li><a href="/v1.6/introduction">v1.6</a></li>
                 <li><a href="/v1.5/introduction">v1.5</a></li>
                 <li><a href="/v3.0/introduction">v3.0 (beta)</a></li>
                 <li><a href="/master/introduction">nightly</a></li>
                 <li role="separator" class="divider"></li>
               </ul>
             </li>
           </ul>
          </div>
        </div>
        <div id="navbar" class="navbar-inverse navbar-collapse collapse">
          <div class="container">
            <ul class="nav navbar-nav">
              
                <li>
                  <a href="/master/introduction"><span>Introduction</span></a>
                </li>
              
                <li>
                  <a href="/master/getting-started"><span>Getting Started</span></a>
                </li>
              
                <li>
                  <a href="/master/usage"><span>Usage</span></a>
                </li>
              
                <li class="active">
                  <a href="/master/reference"><span>Reference</span></a>
                </li>
              
                <li>
                  <a href="/master/releases"><span>Releases</span></a>
                </li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Version (nightly)<span class="caret"></span></a>
                <ul class="dropdown-menu">
                   <li><a href="/v3.0/introduction">v3.0 (latest)</a></li>
                   <li><a href="/v2.6/introduction">v2.6</a></li>
                   <li><a href="/v2.5/introduction">v2.5</a></li>
                   <li><a href="/v2.4/introduction">v2.4</a></li>
                   <li><a href="/v2.3/introduction">v2.3</a></li>
                   <li><a href="/v2.2/introduction">v2.2</a></li>
                   <li><a href="/v2.1/introduction">v2.1</a></li>
                   <li><a href="/v2.0/introduction">v2.0</a></li>
                   <li><a href="/v1.6/introduction">v1.6</a></li>
                   <li><a href="/v1.5/introduction">v1.5</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="/master/introduction">nightly</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="row">
            <div class="col-sm-0"></div>
          </div>
        </div>
      </nav>
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-left">
          <p class="pull-left visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>
          <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
            <div class="row">
              <script>
                (function() {
                  var cx = '015028447179048192876:xjzskk7awwe';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
                })();
              </script>
              <gcse:search></gcse:search>
            </div>
            <div id="sidebar">
            	

  
    
    
    <div class="link">
      <a class="item" data-title="Reference" href="/master/reference/">
        Reference
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-calicoctl" aria-expanded="false" aria-controls="nav-calicoctl">
          calicoctl
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-calicoctl">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/calicoctl/">
        Overview
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-calicoctl-commandreference" aria-expanded="false" aria-controls="nav-calicoctl-commandreference">
          Command Reference
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-calicoctl-commandreference">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/calicoctl/commands/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="get" href="/master/reference/calicoctl/commands/get">
        get
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="create" href="/master/reference/calicoctl/commands/create">
        create
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="replace" href="/master/reference/calicoctl/commands/replace">
        replace
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="apply" href="/master/reference/calicoctl/commands/apply">
        apply
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="delete" href="/master/reference/calicoctl/commands/delete">
        delete
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="convert" href="/master/reference/calicoctl/commands/convert">
        convert
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-calicoctl-commandreference-ipam" aria-expanded="false" aria-controls="nav-calicoctl-commandreference-ipam">
          ipam
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-calicoctl-commandreference-ipam">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/calicoctl/commands/ipam/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="release" href="/master/reference/calicoctl/commands/ipam/release">
        release
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="show" href="/master/reference/calicoctl/commands/ipam/show">
        show
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-calicoctl-commandreference-node" aria-expanded="false" aria-controls="nav-calicoctl-commandreference-node">
          node
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-calicoctl-commandreference-node">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/calicoctl/commands/node/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="run" href="/master/reference/calicoctl/commands/node/run">
        run
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="status" href="/master/reference/calicoctl/commands/node/status">
        status
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="diags" href="/master/reference/calicoctl/commands/node/diags">
        diags
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="checksystem" href="/master/reference/calicoctl/commands/node/checksystem">
        checksystem
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="version" href="/master/reference/calicoctl/commands/version">
        version
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-calicoctl-resourcedefinitions" aria-expanded="false" aria-controls="nav-calicoctl-resourcedefinitions">
          Resource Definitions
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-calicoctl-resourcedefinitions">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/calicoctl/resources/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="BGP Peer" href="/master/reference/calicoctl/resources/bgppeer">
        BGP Peer
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="BGP Configuration" href="/master/reference/calicoctl/resources/bgpconfig">
        BGP Configuration
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Felix Configuration" href="/master/reference/calicoctl/resources/felixconfig">
        Felix Configuration
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Global Network Set" href="/master/reference/calicoctl/resources/globalnetworkset">
        Global Network Set
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Host Endpoint" href="/master/reference/calicoctl/resources/hostendpoint">
        Host Endpoint
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="IP Pool" href="/master/reference/calicoctl/resources/ippool">
        IP Pool
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Node" href="/master/reference/calicoctl/resources/node">
        Node
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Network Policy" href="/master/reference/calicoctl/resources/networkpolicy">
        Network Policy
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Global Network Policy" href="/master/reference/calicoctl/resources/globalnetworkpolicy">
        Global Network Policy
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Profile" href="/master/reference/calicoctl/resources/profile">
        Profile
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Workload Endpoint" href="/master/reference/calicoctl/resources/workloadendpoint">
        Workload Endpoint
      </a>
    </div>
  


        </div>
      </div>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-caliconode" aria-expanded="false" aria-controls="nav-caliconode">
          calico/node
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-caliconode">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Configuration" href="/master/reference/node/configuration">
        Configuration
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-felix" aria-expanded="false" aria-controls="nav-felix">
          felix
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-felix">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Configuration" href="/master/reference/felix/configuration">
        Configuration
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Prometheus Statistics" href="/master/reference/felix/prometheus">
        Prometheus Statistics
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Calico CNI Plugins" href="/master/reference/cni-plugin/configuration">
        Calico CNI Plugins
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Calico Kubernetes Controllers" href="/master/reference/kube-controllers/configuration">
        Calico Kubernetes Controllers
      </a>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-deployingonpubliccloud" aria-expanded="false" aria-controls="nav-deployingonpubliccloud">
          Deploying on Public Cloud
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-deployingonpubliccloud">
          

  
    
    
    <div class="link">
      <a class="item" data-title="AWS" href="/master/reference/public-cloud/aws">
        AWS
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Azure" href="/master/reference/public-cloud/azure">
        Azure
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="GCE" href="/master/reference/public-cloud/gce">
        GCE
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-deployingonprivatecloud" aria-expanded="false" aria-controls="nav-deployingonprivatecloud">
          Deploying on Private Cloud
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-deployingonprivatecloud">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Calico Over Ethernet Fabrics" href="/master/reference/private-cloud/l2-interconnect-fabric">
        Calico Over Ethernet Fabrics
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Calico Over IP Fabrics" href="/master/reference/private-cloud/l3-interconnect-fabric">
        Calico Over IP Fabrics
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-architecture" aria-expanded="false" aria-controls="nav-architecture">
          Architecture
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-architecture">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Introduction" href="/master/reference/architecture/">
        Introduction
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="calico/node" href="/master/reference/architecture/components">
        calico/node
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Data Path" href="/master/reference/architecture/data-path">
        Data Path
      </a>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-advanced" aria-expanded="false" aria-controls="nav-advanced">
          Advanced
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-advanced">
          

  
    
    <div>
      <div class="link">
        <span class="glyphicon glyphicon-chevron-right navbar-arrow"></span>
        <a role="button" data-toggle="collapse" href="#nav-advanced-configuringetcdrbac" aria-expanded="false" aria-controls="nav-advanced-configuringetcdrbac">
          Configuring etcd RBAC
        </a>
      </div>
      <div class="section">
        <div class="collapse" id="nav-advanced-configuringetcdrbac">
          

  
    
    
    <div class="link">
      <a class="item" data-title="Overview" href="/master/reference/advanced/etcd-rbac/">
        Overview
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Certificate Generation" href="/master/reference/advanced/etcd-rbac/certificate-generation">
        Certificate Generation
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="User and Role Creations" href="/master/reference/advanced/etcd-rbac/users-and-roles">
        User and Role Creations
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Kubernetes" href="/master/reference/advanced/etcd-rbac/kubernetes">
        Kubernetes
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Advanced Kubernetes" href="/master/reference/advanced/etcd-rbac/kubernetes-advanced">
        Advanced Kubernetes
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Etcd paths for Calico components" href="/master/reference/advanced/etcd-rbac/calico-etcdv3-paths">
        Etcd paths for Calico components
      </a>
    </div>
  


        </div>
      </div>
    </div>
  


        </div>
      </div>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="System Requirements" href="/master/reference/requirements">
        System Requirements
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Repo Structure" href="/master/reference/repo-structure">
        Repo Structure
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="Get Involved" href="/master/reference/involved">
        Get Involved
      </a>
    </div>
  

  
    
    
    <div class="link">
      <a class="item" data-title="License" href="/master/reference/license">
        License
      </a>
    </div>
  


			</div>
          </div>
          <div class="col-xs-12 col-sm-8 col-md-9">
            <div id="content-main">
              <!-- TOP DOCUMENTATION PAGE NAVBAR -->
              <div style="text-align: left; padding: 18px 0 9px 0; min-width: 500px; overflow-x: hidden;">
              
              <a data-proofer-ignore href="https://github.com/projectcalico/calico/tree/master/master/reference/felix/configuration.md" style="color: #999; text-decoration: none; float: right;" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit this page</a></div>
              <!-- END TOP DOCUMENTATION PAGE NAVBAR -->
              
  <div class="alert alert-warning" role="alert">
    <strong>Warning:</strong> You are viewing the master docs. <a href="/latest">Click here to view the docs for the latest release.</a>
  </div>


              <h1>Configuring Felix</h1>
              <p>Configuration for Felix is read from one of four possible locations, in
order, as follows.</p>

<ol>
  <li>Environment variables.</li>
  <li>The Felix configuration file.</li>
  <li>Host-specific <code class="highlighter-rouge">FelixConfiguration</code> resources.</li>
  <li>The global <code class="highlighter-rouge">FelixConfiguration</code> resource (<code class="highlighter-rouge">default</code>).</li>
</ol>

<p>The value of any configuration parameter is the value read from the
<em>first</em> location containing a value. For example, if an environment variable 
contains a value, it takes top precedence.</p>

<p>If not set in any of these locations, most configuration parameters have 
defaults, and it should be rare to have to explicitly set them.</p>

<p>The full list of parameters which can be set is as follows.</p>

<blockquote class="alert alert-info">
  <p><strong>Note</strong>: The following tables detail the configuration file and 
environment variable parameters. For <code class="highlighter-rouge">FelixConfiguration</code> resource settings, 
refer to <a href="../calicoctl/resources/felixconfig">Felix Configuration Resource</a>.</p>
</blockquote>

<h4 id="general-configuration">General configuration</h4>

<table>
  <thead>
    <tr>
      <th>Configuration parameter</th>
      <th>Environment variable</th>
      <th>Description</th>
      <th>Schema</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">DatastoreType</code></td>
      <td><code class="highlighter-rouge">FELIX_DATASTORETYPE</code></td>
      <td>The datastore that Felix should read endpoints and policy information from. [Default: <code class="highlighter-rouge">etcdv3</code>]</td>
      <td><code class="highlighter-rouge">etcdv3</code>, <code class="highlighter-rouge">kubernetes</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FailsafeInboundHostPorts</code></td>
      <td><code class="highlighter-rouge">FELIX_FAILSAFEINBOUNDHOSTPORTS</code></td>
      <td>Comma-delimited list of UDP/TCP ports that Felix will allow incoming traffic to host endpoints on irrespective of the security policy. This is useful to avoid accidently cutting off a host with incorrect configuration. Each port should be specified as <code class="highlighter-rouge">tcp:&lt;port-number&gt;</code> or <code class="highlighter-rouge">udp:&lt;port-number&gt;</code>. For backwards compatibility, if the protocol is not specified, it defaults to “tcp”. To disable all inbound host ports, use the value <code class="highlighter-rouge">none</code>. The default value allows ssh access, DHCP, BGP and etcd. [Default: <code class="highlighter-rouge">tcp:22, udp:68, tcp:179, tcp:2379, tcp:2380, tcp:6666, tcp:6667</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FailsafeOutboundHostPorts</code></td>
      <td><code class="highlighter-rouge">FELIX_FAILSAFEOUTBOUNDHOSTPORTS</code></td>
      <td>Comma-delimited list of UDP/TCP ports that Felix will allow outgoing traffic from host endpoints to irrespective of the security policy. This is useful to avoid accidently cutting off a host with incorrect configuration. Each port should be specified as <code class="highlighter-rouge">tcp:&lt;port-number&gt;</code> or <code class="highlighter-rouge">udp:&lt;port-number&gt;</code>.  For backwards compatibility, if the protocol is not specified, it defaults to “tcp”. To disable all outbound host ports, use the value <code class="highlighter-rouge">none</code>. The default value opens etcd’s standard ports to ensure that Felix does not get cut off from etcd as well as allowing DHCP, DNS, BGP. [Default: <code class="highlighter-rouge">udp:53, udp:67, tcp:179, tcp:2379, tcp:2380, tcp:6666, tcp:6667</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FelixHostname</code></td>
      <td><code class="highlighter-rouge">FELIX_FELIXHOSTNAME</code></td>
      <td>The hostname Felix reports to the plugin. Should be used if the hostname Felix autodetects is incorrect or does not match what the plugin will expect. [Default: <code class="highlighter-rouge">socket.gethostname()</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IpInIpMtu</code></td>
      <td><code class="highlighter-rouge">FELIX_IPINIPMTU</code></td>
      <td>The MTU to set on the tunnel device. See <a href="/master/usage/configuration/mtu">Configuring MTU</a> [Default: <code class="highlighter-rouge">1440</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LogFilePath</code></td>
      <td><code class="highlighter-rouge">FELIX_LOGFILEPATH</code></td>
      <td>The full path to the Felix log. Set to <code class="highlighter-rouge">none</code> to disable file logging. [Default: <code class="highlighter-rouge">/var/log/calico/felix.log</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LogSeverityFile</code></td>
      <td><code class="highlighter-rouge">FELIX_LOGSEVERITYFILE</code></td>
      <td>The log severity above which logs are sent to the log file. [Default: <code class="highlighter-rouge">Info</code>]</td>
      <td><code class="highlighter-rouge">Debug</code>, <code class="highlighter-rouge">Info</code>, <code class="highlighter-rouge">Warning</code>, <code class="highlighter-rouge">Error</code>, <code class="highlighter-rouge">Fatal</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LogSeverityScreen</code></td>
      <td><code class="highlighter-rouge">FELIX_LOGSEVERITYSCREEN</code></td>
      <td>The log severity above which logs are sent to the stdout. [Default: <code class="highlighter-rouge">Info</code>]</td>
      <td><code class="highlighter-rouge">Debug</code>, <code class="highlighter-rouge">Info</code>, <code class="highlighter-rouge">Warning</code>, <code class="highlighter-rouge">Error</code>, <code class="highlighter-rouge">Fatal</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LogSeveritySys</code></td>
      <td><code class="highlighter-rouge">FELIX_LOGSEVERITYSYS</code></td>
      <td>The log severity above which logs are sent to the syslog. Set to <code class="highlighter-rouge">""</code> for no logging to syslog. [Default: <code class="highlighter-rouge">Info</code>]</td>
      <td><code class="highlighter-rouge">Debug</code>, <code class="highlighter-rouge">Info</code>, <code class="highlighter-rouge">Warning</code>, <code class="highlighter-rouge">Error</code>, <code class="highlighter-rouge">Fatal</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PrometheusGoMetricsEnabled</code></td>
      <td><code class="highlighter-rouge">FELIX_PROMETHEUSGOMETRICSENABLED</code></td>
      <td>Set to <code class="highlighter-rouge">false</code> to disable Go runtime metrics collection, which the Prometheus client does by default. This reduces the number of metrics reported, reducing Prometheus load. [Default: <code class="highlighter-rouge">true</code>]</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PrometheusMetricsEnabled</code></td>
      <td><code class="highlighter-rouge">FELIX_PROMETHEUSMETRICSENABLED</code></td>
      <td>Set to <code class="highlighter-rouge">true</code> to enable the experimental Prometheus metrics server in Felix. [Default: <code class="highlighter-rouge">false</code>]</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PrometheusMetricsPort</code></td>
      <td><code class="highlighter-rouge">FELIX_PROMETHEUSMETRICSPORT</code></td>
      <td>Experimental: TCP port that the Prometheus metrics server should bind to. [Default: <code class="highlighter-rouge">9091</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PrometheusProcessMetricsEnabled</code></td>
      <td><code class="highlighter-rouge">FELIX_PROMETHEUSPROCESSMETRICSENABLED</code></td>
      <td>Set to <code class="highlighter-rouge">false</code> to disable process metrics collection, which the Prometheus client does by default. This reduces the number of metrics reported, reducing Prometheus load. [Default: <code class="highlighter-rouge">true</code>]</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReportingIntervalSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_REPORTINGINTERVALSECS</code></td>
      <td>Interval at which Felix reports its status into the datastore or <code class="highlighter-rouge">0</code> to disable. Must be non-zero in OpenStack deployments. [Default: <code class="highlighter-rouge">30</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReportingTTLSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_REPORTINGTTLSECS</code></td>
      <td>Time-to-live setting for process-wide status reports. [Default: <code class="highlighter-rouge">90</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UsageReportingEnabled</code></td>
      <td><code class="highlighter-rouge">FELIX_USAGEREPORTINGENABLED</code></td>
      <td>Reports anonymous Calico version number and cluster size to projectcalico.org. Logs warnings returned by the usage server. For example, if a significant security vulnerability has been discovered in the version of Calico being used. [Default: <code class="highlighter-rouge">true</code>]</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UsageReportingInitialDelaySecs</code></td>
      <td><code class="highlighter-rouge">FELIX_USAGEREPORTINGINITIALDELAYSECS</code></td>
      <td>Minimum delay before first usage report, in seconds. [Default: <code class="highlighter-rouge">300</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UsageReportingIntervalSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_USAGEREPORTINGINTERVALSECS</code></td>
      <td>Interval at which to make usage reports, in seconds. [Default: <code class="highlighter-rouge">86400</code>]</td>
      <td>int</td>
    </tr>
  </tbody>
</table>

<h4 id="etcdv3-datastore-configuration">etcdv3 datastore configuration</h4>

<table>
  <thead>
    <tr>
      <th>Configuration parameter</th>
      <th>Environment variable</th>
      <th>Description</th>
      <th>Schema</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">EtcdCaFile</code></td>
      <td><code class="highlighter-rouge">FELIX_ETCDCAFILE</code></td>
      <td>The full path to the etcd Certificate Authority certificate file. To disable authentication of the server by Felix, set the value to <code class="highlighter-rouge">none</code>. [Default: <code class="highlighter-rouge">/etc/ssl/certs/ca-certificates.crt</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EtcdCertFile</code></td>
      <td><code class="highlighter-rouge">FELIX_ETCDCERTFILE</code></td>
      <td>The full path to the etcd certificate file.</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EtcdEndpoints</code></td>
      <td><code class="highlighter-rouge">FELIX_ETCDENDPOINTS</code></td>
      <td>Comma-delimited list of etcd endpoints to connect to. Example: <code class="highlighter-rouge">http://etcd1:2379,http://etcd2:2379</code>.</td>
      <td><code class="highlighter-rouge">&lt;scheme&gt;://&lt;ip-or-fqdn&gt;:&lt;port&gt;</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EtcdKeyFile</code></td>
      <td><code class="highlighter-rouge">FELIX_ETCDKEYFILE</code></td>
      <td>The full path to the etcd public key file.</td>
      <td>string</td>
    </tr>
  </tbody>
</table>

<h4 id="kubernetes-datastore-configuration">Kubernetes datastore configuration</h4>

<p>The Kubernetes datastore driver reads its configuration from Kubernetes-provided environment variables.</p>

<h4 id="iptables-dataplane-configuration">iptables dataplane configuration</h4>

<table>
  <thead>
    <tr>
      <th>Configuration parameter</th>
      <th>Environment variable</th>
      <th>Description</th>
      <th>Schema</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ChainInsertMode</code></td>
      <td><code class="highlighter-rouge">FELIX_CHAININSERTMODE</code></td>
      <td>Controls whether Felix hooks the kernel’s top-level iptables chains by inserting a rule at the top of the chain or by appending a rule at the bottom.  <code class="highlighter-rouge">Insert</code> is the safe default since it prevents Calico’s rules from being bypassed.  If you switch to <code class="highlighter-rouge">Append</code> mode, be sure that the other rules in the chains signal acceptance by falling through to the Calico rules, otherwise the Calico policy will be bypassed. [Default: <code class="highlighter-rouge">Insert</code>]</td>
      <td><code class="highlighter-rouge">Insert</code>, <code class="highlighter-rouge">Append</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DefaultEndpointToHostAction</code></td>
      <td><code class="highlighter-rouge">FELIX_DEFAULTENDPOINTTOHOSTACTION</code></td>
      <td>This parameter controls what happens to traffic that goes from a workload endpoint to the host itself (after the traffic hits the endpoint egress policy). By default Calico blocks traffic from workload endpoints to the host itself with an iptables <code class="highlighter-rouge">Drop</code> action. If you want to allow some or all traffic from endpoint to host, set this parameter to <code class="highlighter-rouge">Return</code> or <code class="highlighter-rouge">Accept</code>.  Use <code class="highlighter-rouge">Return</code> if you have your own rules in the iptables “INPUT” chain; Calico will insert its rules at the top of that chain, then <code class="highlighter-rouge">Return</code> packets to the “INPUT” chain once it has completed processing workload endpoint egress policy. Use <code class="highlighter-rouge">Accept</code> to unconditionally accept packets from workloads after processing workload endpoint egress policy. [Default: <code class="highlighter-rouge">Drop</code>]</td>
      <td><code class="highlighter-rouge">Drop</code>, <code class="highlighter-rouge">Return</code>, <code class="highlighter-rouge">Accept</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IgnoreLooseRPF</code></td>
      <td><code class="highlighter-rouge">FELIX_IGNORELOOSERPF</code></td>
      <td>Set to <code class="highlighter-rouge">true</code> to allow Felix to run on systems with loose reverse path forwarding (RPF). <strong>Warning</strong>: Calico relies on “strict” RPF checking being enabled to prevent workloads, such as VMs and privileged containers, from spoofing their IP addresses and impersonating other workloads (or hosts). Only enable this flag if you need to run with “loose” RPF and you either trust your workloads or have another mechanism in place to prevent spoofing.</td>
      <td><code class="highlighter-rouge">true</code>,<code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InterfaceExclude</code></td>
      <td><code class="highlighter-rouge">FELIX_INTERFACEEXCLUDE</code></td>
      <td>A comma-separated list of interface names that should be excluded when Felix is resolving host endpoints. The default value ensures that Felix ignores Kubernetes’ internal <code class="highlighter-rouge">kube-ipvs0</code> device. [Default: <code class="highlighter-rouge">kube-ipvs0</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IpInIpEnabled</code></td>
      <td><code class="highlighter-rouge">FELIX_IPINIPENABLED</code></td>
      <td>Whether Felix should configure an IPinIP interface on the host. Set automatically to <code class="highlighter-rouge">true</code> by <code class="highlighter-rouge">calico/node</code> or <code class="highlighter-rouge">calicoctl</code> when you create an IPIP-enabled pool. [Default: <code class="highlighter-rouge">false</code>]</td>
      <td>boolean</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IpsetsRefreshIntervalSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_IPSETSREFRESHINTERVAL</code></td>
      <td>Period, in seconds, at which Felix re-checks the IP sets in the dataplane to ensure that no other process has accidentally broken Calico’s rules. Set to 0 to disable IP sets refresh.  Note: the default for this value is lower than the other refresh intervals as a workaround for a <a href="https://github.com/projectcalico/felix/issues/1347">Linux kernel bug</a> that was fixed in kernel version 4.11. If you are using v4.11 or greater you may want to set this to, a higher value to reduce Felix CPU usage. [Default: <code class="highlighter-rouge">10</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesFilterAllowAction</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESALLOWACTION</code></td>
      <td>This parameter controls what happens to traffic that is allowed by a Felix policy chain in the iptables filter table (i.e., a normal policy chain). The default will immediately <code class="highlighter-rouge">Accept</code> the traffic. Use <code class="highlighter-rouge">Return</code> to send the traffic back up to the system chains for further processing. [Default: <code class="highlighter-rouge">Accept</code>]</td>
      <td><code class="highlighter-rouge">Accept</code>, <code class="highlighter-rouge">Return</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesLockFilePath</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESLOCKFILEPATH</code></td>
      <td>Location of the iptables lock file.  You may need to change this if the lock file is not in its standard location (for example if you have mapped it into Felix’s container at a different path). [Default: <code class="highlighter-rouge">/run/xtables.lock</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesLockProbeIntervalMillis</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESLOCKPROBEINTERVALMILLIS</code></td>
      <td>Time, in milliseconds, that Felix will wait between attempts to acquire the iptables lock if it is not available.  Lower values make Felix more responsive when the lock is contended, but use more CPU. [Default: <code class="highlighter-rouge">50</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesLockTimeoutSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESLOCKTIMEOUTSECS</code></td>
      <td>Time, in seconds, that Felix will wait for the iptables lock, or 0, to disable. To use this feature, Felix must share the iptables lock file with all other processes that also take the lock.  When running Felix inside a container, this requires the /run directory of the host to be mounted into the <code class="highlighter-rouge">calico/node</code> or <code class="highlighter-rouge">calico/felix</code> container. [Default: <code class="highlighter-rouge">0</code> disabled]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesMangleAllowAction</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESALLOWACTION</code></td>
      <td>This parameter controls what happens to traffic that is allowed by a Felix policy chain in the iptables mangle table (i.e., a pre-DNAT policy chain). The default will immediately <code class="highlighter-rouge">Accept</code> the traffic. Use <code class="highlighter-rouge">Return</code> to send the traffic back up to the system chains for further processing. [Default: <code class="highlighter-rouge">Accept</code>]</td>
      <td><code class="highlighter-rouge">Accept</code>, <code class="highlighter-rouge">Return</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesMarkMask</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESMARKMASK</code></td>
      <td>Mask that Felix selects its IPTables Mark bits from. Should be a 32 bit hexadecimal number with at least 8 bits set, none of which clash with any other mark bits in use on the system. [Default: <code class="highlighter-rouge">0xff000000</code>]</td>
      <td>netmask</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesPostWriteCheckIntervalSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESPOSTWRITECHECKINTERVALSECS</code></td>
      <td>Period, in seconds, after Felix has done a write to the dataplane that it schedules an extra read back in order to check the write was not clobbered by another process.  This should only occur if another application on the system doesn’t respect the iptables lock. [Default: <code class="highlighter-rouge">1</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IptablesRefreshInterval</code></td>
      <td><code class="highlighter-rouge">FELIX_IPTABLESREFRESHINTERVAL</code></td>
      <td>Period, in seconds, at which Felix re-checks all iptables state to ensure that no other process has accidentally broken Calico’s rules. Set to 0 to disable iptables refresh. [Default: <code class="highlighter-rouge">90</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LogPrefix</code></td>
      <td><code class="highlighter-rouge">FELIX_LOGPREFIX</code></td>
      <td>The log prefix that Felix uses when rendering LOG rules. [Default: <code class="highlighter-rouge">calico-packet</code>]</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MaxIpsetSize</code></td>
      <td><code class="highlighter-rouge">FELIX_MAXIPSETSIZE</code></td>
      <td>Maximum size for the ipsets used by Felix to implement tags. Should be set to a number that is greater than the maximum number of IP addresses that are ever expected in a tag. [Default: <code class="highlighter-rouge">1048576</code>]</td>
      <td>int</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NetlinkTimeoutSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_NETLINKTIMEOUTSECS</code></td>
      <td>Time, in seconds, that Felix will wait for netlink (i.e. routing table list/update) operations to complete before giving up and retrying. [Default: <code class="highlighter-rouge">10</code>]</td>
      <td>float</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RouteRefreshIntervalSecs</code></td>
      <td><code class="highlighter-rouge">FELIX_ROUTEREFRESHINTERVAL</code></td>
      <td>Period, in seconds, at which Felix re-checks the routes in the dataplane to ensure that no other process has accidentally broken Calico’s rules. Set to 0 to disable route refresh. [Default: <code class="highlighter-rouge">90</code>]</td>
      <td>int</td>
    </tr>
  </tbody>
</table>

<h4 id="openstack-specific-configuration">OpenStack-specific configuration</h4>

<table>
  <thead>
    <tr>
      <th>Configuration parameter</th>
      <th>Environment variable</th>
      <th>Description</th>
      <th>Schema</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MetadataAddr</code></td>
      <td><code class="highlighter-rouge">FELIX_METADATAADDR</code></td>
      <td>The IP address or domain name of the server that can answer VM queries for cloud-init metadata. In OpenStack, this corresponds to the machine running nova-api (or in Ubuntu, nova-api-metadata). A value of <code class="highlighter-rouge">none</code>  (case insensitive) means that Felix should not set up any NAT rule for the metadata path. [Default: <code class="highlighter-rouge">127.0.0.1</code>]</td>
      <td><code class="highlighter-rouge">&lt;IPv4-address&gt;</code>, <code class="highlighter-rouge">&lt;hostname&gt;</code>, <code class="highlighter-rouge">none</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MetadataPort</code></td>
      <td><code class="highlighter-rouge">FELIX_METADATAPORT</code></td>
      <td>The port of the metadata server. This, combined with global.MetadataAddr (if not ‘None’), is used to set up a NAT rule, from 169.254.169.254:80 to MetadataAddr:MetadataPort. In most cases this should not need to be changed [Default: <code class="highlighter-rouge">8775</code>].</td>
      <td>int</td>
    </tr>
  </tbody>
</table>

<h4 id="bare-metal-specific-configuration">Bare metal specific configuration</h4>

<table>
  <thead>
    <tr>
      <th>Configuration parameter</th>
      <th>Environment variable</th>
      <th>Description</th>
      <th>Schema</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">InterfacePrefix</code></td>
      <td><code class="highlighter-rouge">FELIX_INTERFACEPREFIX</code></td>
      <td>The interface name prefix that identifies workload endpoints and so distinguishes them from host endpoint interfaces. Accepts more than one interface name prefix in comma-delimited format, e.g., <code class="highlighter-rouge">tap,cali</code>. Note: in environments other than bare metal, the orchestrators configure this appropriately.  For example our Kubernetes and Docker integrations set the <code class="highlighter-rouge">cali</code> value, and our OpenStack integration sets the <code class="highlighter-rouge">tap</code> value. [Default: <code class="highlighter-rouge">cali</code>]</td>
      <td>string</td>
    </tr>
  </tbody>
</table>

<h2 id="environment-variables">Environment variables</h2>

<p>The highest priority of configuration is that read from environment
variables. To set a configuration parameter via an environment variable,
set the environment variable formed by taking <code class="highlighter-rouge">FELIX_</code> and appending the
uppercase form of the variable name. For example, to set the etcd
address, set the environment variable <code class="highlighter-rouge">FELIX_ETCDADDR</code>. Other examples
include <code class="highlighter-rouge">FELIX_ETCDSCHEME</code>, <code class="highlighter-rouge">FELIX_ETCDKEYFILE</code>, <code class="highlighter-rouge">FELIX_ETCDCERTFILE</code>,
<code class="highlighter-rouge">FELIX_ETCDCAFILE</code>, <code class="highlighter-rouge">FELIX_FELIXHOSTNAME</code>, <code class="highlighter-rouge">FELIX_LOGFILEPATH</code> and
<code class="highlighter-rouge">FELIX_METADATAADDR</code>.</p>

<h3 id="configuration-file">Configuration file</h3>

<p>On startup, Felix reads an ini-style configuration file. The path to
this file defaults to <code class="highlighter-rouge">/etc/calico/felix.cfg</code> but can be overridden
using the <code class="highlighter-rouge">-c</code> or <code class="highlighter-rouge">--config-file</code> options on the command line. If the
file exists, then it is read (ignoring section names) and all parameters
are set from it.</p>

<p>In OpenStack, we recommend putting all configuration into configuration
files, since the etcd database is transient (and may be recreated by the
OpenStack plugin in certain error cases). However, in a Docker
environment the use of environment variables or etcd is often more
convenient.</p>

<h3 id="datastore">Datastore</h3>

<p>Felix also reads configuration parameters from the datastore.  It supports
a global setting and a per-host override.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Get the current felixconfig settings
$ calicoctl get felixconfig -o yaml &gt; felix.yaml

# Modify logFilePath to your intended path, e.g. "/tmp/felix.log"
#   Global change: set name to "default"
#   Node-specific change: set name to the node name, e.g. "Calico-Node-1"
$ vim felix.yaml

# Replace the current felixconfig settings
$ calicoctl replace -f felix.yaml
</code></pre></div></div>

<p>For more information, see <a href="../calicoctl/resources/felixconfig">Felix Configuration Resource</a>.</p>

              
              <!-- BOTTOM DOCUMENTATION PAGE NAVBAR -->
              <div style="margin-top: 60px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #999; text-align: left; color: #999;">Rate this Page: <div class="rw-ui-container" style="margin-top: -5px;"></div> <a href="https://www.projectcalico.org/contact?type=docs&file=master/reference/felix/configuration.md" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i> Provide Feedback</a> <a href="https://www.projectcalico.org/community#slack" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-slack" aria-hidden="true"></i> Get Help via Slack</a> <a href="https://www.projectcalico.org/mvp" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-trophy" aria-hidden="true"></i> Ask our MVPs</a> <a href="https:/tigera.io/training" style="margin-left: 30px; color: #999; text-decoration: none;" target="_blank"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Training</a></div>
              <!-- END BOTTOM DOCUMENTATION PAGE NAVBAR -->
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Start Visual Website Optimizer Asynchronous Code -->
    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=287573,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=false,
      /* DO NOT EDIT BELOW THIS LINE */
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>
    <!-- End Visual Website Optimizer Asynchronous Code -->
    <!-- DOCUMENTATION RATING ANALYTICS -->
   <script type="text/javascript">(function(d, t, e, m){
    // Async Rating-Widget initialization.
    window.RW_Async_Init = function(){
        RW.init({
            huid: "368439",
            uid: "33da22c0dff384767b5074aaf10ebc50",
            source: "website",
            options: {
                "advanced": {
					"font": {
						"color": "#999999"
					},
                    "layout": {
                        "align": {
                            "hor": "left"
                        }
                    },
                    "text": {
                        "rateThis": "Rate this"
                    }
                },
				"label": {
					"background": "#FFFFFF"
				},
				"reVote": true,
				"showInfo": false,
				/*"showTooltip": false,*/
				"hideRecommendations": false,
				"showReport": false,
				"showLoader": false,
                "style": "oxygen",
                "isDummy": false
            } 
        });
        RW.render();
    };
        // Append Rating-Widget JavaScript library.
    var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
        l = d.location, ck = "Y" + t.getFullYear() + 
        "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
        f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
        a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
    if (d.getElementById(id)) return;              
    rw = d.createElement(e);
    rw.id = id; rw.async = true; rw.type = "text/javascript";
    rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
    s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));</script>
    <!-- END DOCUMENTATION RATING ANALYTICS -->
  </body>
</html>
